# Default values are hardcoded for most variables, but the codebase prefers environment variables first
# before falling back to defaults. This allows you to override any variable by setting its value in this .env file.
# If you change the .env file, you will need to restart the server for changes to take effect.
# I plan to implement hot-reloading of the .env file in the future, but for now, just restart the container(s) after making changes.

# The OVS_PUBLIC_IP env var should be set to the PUBLIC IP address of your server.
# This is used for clients to connect to the game server and for other services to communicate with it.
# If you are running the server locally for testing, you can set this to your local IP address. It's
# not used anywhere internally, it's just a convenience variable for users to avoid having to change multiple variables when testing locally.
OVS_PUBLIC_IP=224.3.158.9

# The BANNED_NAMES_FILE env var should be a text file with one banned name per line. If a user attempts to change their name
# to a value that contains an entry in this file, the name change will be rejected and the user will automatically be banned.
# Its location is relative to the /app/build/src/services directory inside the container, and this file is meant to be mapped
# in via a mount in the docker compose file, or manually via -v when using `docker run`.
BANNED_NAMES_FILE="../data/banned_names.txt"

# The CIDR_BANS_FILE env var should be a text file with one CIDR range per line. If a user attempts to connect from an IP address that falls within
# any of the CIDR ranges in this file, their connection will be rejected and their game will close.
CIDR_BANS_FILE="../data/cidr_bans.txt"

# The DATA_ASSET_TOKEN env var is used to authenticate requests to the data asset server, which serves game assets like
# character icons, move icons, and other images. You can set this to any value you want, but it should be kept secret in a
# production environment. The data asset server will reject requests that do not include the correct token in the Authorization header.
DATA_ASSET_TOKEN=mysecrettoken

# The EMULATE_P2 env var is used to enable or disable peer-to-peer emulation. When set to 1, the server will attempt to establish direct
# connections between clients for game sessions using an internal UDP rollback server. However, this may not work in all network environments, so
# it is disabled by default (set to 0). You can enable it if you want to test peer-to-peer connections, but be aware that it
# may cause connectivity issues for some users.
EMULATE_P2=0

# The FORCE_CHANGE_NAMES_FILE env var is a text file with one name per line. If a user attempts to change their name to a value that contains an entry in
# this file, the name change will be rejected and the user must select another name before they can play. This is meant to be used for names that
# are not necessarily bannable, but are still undesirable in the community.
FORCE_CHANGE_NAMES_FILE="../data/force_change_names.txt"

# The GAME_DOMAIN env var is the domain name that the game server will use for generating URLs and for clients to connect to. It should be set to the
# public domain name (or IP address) of your server. This is used in various places throughout the codebase, so it's important to set it correctly.
GAME_DOMAIN=your.gamedomain.com

# The GAME_VERSION env var is a string that represents the current version of the game. This is used for display purposes and for clients to check if they
# are running the correct version of the game. It can be set to any value you want, but it's a good idea to follow semantic versioning
# (e.g., "1.0.0", "1.2.3", etc.) for clarity.
GAME_VERSION=195303.1.1

# The HTTP_PORT env var is the port number that the game server will listen on for HTTP request from game clientss. This is used for clients to connect to
#the server and for other services to communicate with it. You can set this to any available port number, but 8000 is a common choice
# for development and testing.
HTTP_PORT=8000

# The IP_BANS_FILE env var should be a text file with one IP address per line. If a user attempts to connect from an IP address that is listed in this file, their
# connection will be rejected and their game will close.
IP_BANS_FILE="../data/bans.txt"

# The LOCAL_PUBLIC_IP env var is used for services running inside the same Docker network to communicate with the game server. It should normally be set to the same
# value as OVS_PUBLIC_IP, unless you want to use a different IP address for websocket communication to game clients.
LOCAL_PUBLIC_IP=$OVS_PUBLIC_IP

# The MONGODB_URI env var is the connection string for your MongoDB database. This is used for storing user data, game data, and other persistent
# information. You should set this to the connection string for your MongoDB instance, including the username and password if authentication is enabled.
MONGODB_URI=mongodb://username:password@mongo:27017/

# The OVS_SERVER env var is the URL for the OVS server, which is used by the UDP CPP rollback server to communicate with the main game server. This
# should be set to the same URL as the HTTP server (including the port number) so that the rollback server can send requests to the main HTTP
# instance(s) for things like retrieving match details, updating player actions, reporting end-of-game events, and other game-related actions.
# The environment variable "mvsi_server" is supported for backward compatibility.
# mvsi_server=http://your.gamedomain.com:8000
OVS_SERVER=http://your.gamedomain.com:8000

# The REDIS_PORT env var is the port number that your Redis server is listening on. This is used for caching and other fast data storage needs.
# The default Redis port is 6379, so you can usually leave this as is unless you have configured your Redis server to use a different port.
REDIS_PORT=6379

# The REDIS_PW env var is the password for your Redis server, if authentication is enabled (it should be).
REDIS_PW=your_redis_password

# The REDIS_USERNAME env var is the username for your Redis server, if authentication is enabled (it should be).
# The default Redis username is "default", but you can change this if you have configured your Redis server to use a different username (you should).
REDIS_USERNAME=ovsuser

# The REDIS env var is the hostname or IP address of your Redis server. If you are running Redis in a Docker container on the same network as your
# game server, you can set this to the name of the Redis service in your Docker Compose file (e.g., "redis"). If you are running Redis on the
# same host as your game server, you can normally set this to "localhost"
REDIS=redis

# The ROLLBACK_UDP_PORT_LOW and ROLLBACK_UDP_PORT_HIGH env vars define the range of UDP ports that the UDP CPP rollback servers will listen on
# for communicatio with game clients. Multiple game sessions can be hosted on the same server and same port, but the fewer, the better.
# This is likely to be removed in the future in favor of an individual rollback server instance per match with a fixed port.
ROLLBACK_UDP_PORT_LOW=57000
ROLLBACK_UDP_PORT_HIGH=57019

# The UDP_PORT env var is the port number that the internal Node UDP rollback server will listen on for communication with game clients.
# This is only used if USE_INTERNAL_ROLLBACK is set to 1, and is normally not used for normal game sessions, as the UDP CPP rollback server
# is preferred due to the differences in speed. You can set this to any available port number, but 41234 is a common choice for testing.
UDP_PORT=41234

# The UDP_SERVER_IP and UDP_SERVER_IP2 env vars are the IP addresses that the internal Node UDP rollback server will use for communication
# with game clients. These should normally be set to the same value as OVS_PUBLIC_IP, unless you want to use a different IP address for
# UDP communication to game clients. These are only used if USE_INTERNAL_ROLLBACK is set to 1, and are normally not used for normal game sessions, as the UDP CPP rollback server is preferred due to the differences in speed.
UDP_SERVER_IP=$OVS_PUBLIC_IP
UDP_SERVER_IP2=$OVS_PUBLIC_IP

# The USE_INTERNAL_ROLLBACK env var is used to enable or disable the internal Node UDP rollback server. When set to 1, the game server will use
# the internal Node UDP rollback server. The USE_INTERNAL_ROLLBACK_CPP env var takes precedence if both are enabled.
USE_INTERNAL_ROLLBACK=0

# The USE_INTERNAL_ROLLBACK_CPP env var is used to enable or disable an external CPP UDP rollback server. When set to 1, the game server will use
# an external UDP rollback server as determined by the UDP_SERVER_IP, UDP_SERVER_IP2, and UDP_PORT env vars. This is the preferred method for
# play, as it is significantly faster than the internal Node UDP rollback server.
USE_INTERNAL_ROLLBACK_CPP=1

# The VERBOSE_LOGGING env var is used to enable or disable verbose logging throughout the codebase. When set to 1, the server will log additional
# information about incoming requests, errors, and other events. This can be useful for debugging and development, but it may cause performance
# issues in a production environment, so it is disabled by default (set to 0).
VERBOSE_LOGGING=0

# The WB_DOMAIN env var is used by the Hydra middleware and JWT to verify the game client is connecting to the correct domain. This should normally be
# set to the same value as GAME_DOMAIN, but it can be set differently if needed for testing purposes (e.g., if you want to use a different domain for
# websocket communication to game clients).
WB_DOMAIN=your.gamedomain.com

# The WEBSOCKET_PORT env var is the port number that the websocket server will listen on for communication with game clients. This is one of the most
# important parts of the infrastructure, and is used for real-time communication between the server and clients before, during, and after game sessions.
# You can set this to any available port number, but 3000 is a common choice for development and testing.
WEBSOCKET_PORT=3000
